<Window x:Class="InventoryApp.View.MainWindow"
				xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
				xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
				xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
				xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
				xmlns:viewmodel="clr-namespace:InventoryApp.ViewModel"
				xmlns:UserControls="clr-namespace:InventoryApp.View.UserControls"
				d:DataContext="{d:DesignInstance Type=viewmodel:MainWindowViewModel}"
				mc:Ignorable="d"
				Title="MainWindow" Height="450" Width="800">
	
	<Grid ColumnDefinitions="3*, 7*">
		<StackPanel Grid.Column="0" Margin="5,55,5,200" >

			<ComboBox  
			ItemsSource="{Binding Categories}" 
			SelectedItem="{Binding SelectedCategory}" 
			DisplayMemberPath="Name"
			Margin="0,0,0,10" />

			<UserControls:ClearableTextbox  x:Name="searchBox"  Margin="0,10,0,0"
			Placeholder="Search Products..."
			Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
			/>

		</StackPanel>
		<Grid Grid.Column="1" RowDefinitions="1*,9*">
			<StackPanel Orientation="Horizontal" Margin="5" HorizontalAlignment="Center">
				<Button Margin="5,0,5,0" Padding="5,0,5,0" Content="Add Product" Command="{Binding AddCommand}" />
				<Button Margin="5,0,5,0" Padding="5,0,5,0" Content="Edit Selected" Command="{Binding EditCommand}" />
				<Button Margin="5,0,5,0" Padding="5,0,5,0" Content="Delete Selected" Command="{Binding DeleteCommand}" />
				<Button Margin="5,0,5,0" Padding="5,0,5,0"  Content="Refresh"  Command="{Binding RefreshCommand}" />
			</StackPanel>
			<Button Click="ToggleDarkMode_Click" Margin="0,0,15,5" Background="Transparent" BorderThickness="0" HorizontalAlignment="Right" VerticalAlignment="Bottom"  Content="☼" FontWeight="Black" FontStretch="Condensed" FontSize="20"  />
			<DataGrid Grid.Row="1" 
          ItemsSource="{Binding ProductsView}"
          SelectedItem="{Binding SelectedProduct}"
          AutoGenerateColumns="False"
          IsReadOnly="True"
          SelectionMode="Single"
          CanUserAddRows="False"
          CanUserDeleteRows="False"
          GridLinesVisibility="Horizontal"
          HeadersVisibility="Column"
          Margin="10">
				<DataGrid.Columns>
					<DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="*" MinWidth="150"/>
					<DataGridTextColumn Header="Category" Binding="{Binding Category.Name}" Width="150"/>
					<DataGridTextColumn Header="Price" Binding="{Binding Price, StringFormat=C2}" Width="100"/>
					<DataGridTextColumn Header="Quantity" Binding="{Binding Quantity}" Width="100"/>
					<DataGridTextColumn Header="Created At" Binding="{Binding CreatedAt, StringFormat=MM/dd/yyyy}" Width="120"/>
				</DataGrid.Columns>
			</DataGrid>
		</Grid>
	</Grid>
</Window>